(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59544,e=>{"use strict";e.s(["Button",()=>s]);var t=e.i(43476);function s(e){let{variant:s="primary",size:r="md",loading:a=!1,disabled:i,children:l,className:n="",...c}=e;return(0,t.jsxs)("button",{disabled:i||a,className:"".concat("inline-flex items-center justify-center font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-primary text-white hover:bg-red-700 focus:ring-primary shadow-md hover:shadow-lg",secondary:"bg-secondary border border-border text-text hover:bg-muted focus:ring-secondary",ghost:"bg-transparent text-text-muted hover:text-text hover:bg-muted/50 focus:ring-muted"}[s]," ").concat({sm:"px-3 py-2 text-sm rounded-md",md:"px-4 py-3 text-sm rounded-lg",lg:"px-6 py-4 text-base rounded-lg"}[r]," ").concat(n),...c,children:[a&&(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l]})}},3812,61418,e=>{"use strict";e.s(["Input",()=>s],3812);var t=e.i(43476);function s(e){let{label:s,error:r,helperText:a,className:i="",...l}=e;return(0,t.jsxs)("div",{className:"space-y-2",children:[s&&(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[s,l.required&&(0,t.jsx)("span",{className:"text-primary ml-1",children:"*"})]}),(0,t.jsx)("input",{style:{color:"black"},className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg placeholder-gray-400 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 focus:outline-none transition-colors ".concat(r?"border-error focus:border-error focus:ring-error/20":""," ").concat(i),...l}),r&&(0,t.jsxs)("p",{className:"text-sm text-error flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),r]}),a&&!r&&(0,t.jsx)("p",{className:"text-sm text-text-muted",children:a})]})}function r(e){let{variant:s="info",title:r,children:a,onClose:i}=e,l={success:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),warning:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),error:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),info:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})};return(0,t.jsx)("div",{className:"rounded-lg border p-4 ".concat({success:"bg-green-500/10 border-green-500/20 text-green-400",warning:"bg-yellow-500/10 border-yellow-500/20 text-yellow-400",error:"bg-red-500/10 border-red-500/20 text-red-400",info:"bg-blue-500/10 border-blue-500/20 text-blue-400"}[s]),children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:l[s]}),(0,t.jsxs)("div",{className:"ml-3 flex-1",children:[r&&(0,t.jsx)("h3",{className:"text-sm font-medium mb-1",children:r}),(0,t.jsx)("div",{className:"text-sm",children:a})]}),i&&(0,t.jsx)("button",{className:"ml-3 flex-shrink-0 opacity-70 hover:opacity-100 transition-opacity",onClick:i,children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})}e.s(["Alert",()=>r],61418)},25603,e=>{"use strict";e.s(["default",()=>c]);var t=e.i(43476),s=e.i(71645),r=e.i(57951),a=e.i(9165),i=e.i(59544),l=e.i(3812),n=e.i(61418);function c(){let{user:e}=(0,r.useAuth)(),[c,d]=(0,s.useState)([]),[o,x]=(0,s.useState)(!0),[u,m]=(0,s.useState)(null),[h,p]=(0,s.useState)(null),[g,v]=(0,s.useState)(""),[y,f]=(0,s.useState)(!1),[b,j]=(0,s.useState)(null),[N,w]=(0,s.useState)({name:"",category:"",description:"",basePrice:0,estimatedDurationMinutes:30}),C=async()=>{try{m(null);let e=await a.default.getServices();d(e)}catch(e){console.error("Failed to fetch services:",e),m("Failed to load services")}finally{x(!1)}},S=async()=>{if(!g.trim())return void C();try{x(!0),m(null);let e=await a.default.searchServices(g);d(e)}catch(e){console.error("Search failed:",e),m("Search failed")}finally{x(!1)}},k=async e=>{e.preventDefault(),m(null),p(null);try{b?(await a.default.updateService(b.id,N),p("Service updated successfully")):(await a.default.createService(N),p("Service created successfully")),f(!1),j(null),z(),C()}catch(e){console.error("Submit failed:",e),m(e&&"object"==typeof e&&"error"in e?e.error:"Failed to save service")}},M=async e=>{if(confirm("Are you sure you want to delete this service?"))try{m(null),await a.default.deleteService(e),p("Service deleted successfully"),C()}catch(e){console.error("Delete failed:",e),m(e&&"object"==typeof e&&"error"in e?e.error:"Failed to delete service")}},z=()=>{w({name:"",category:"",description:"",basePrice:0,estimatedDurationMinutes:30})};return((0,s.useEffect)(()=>{(null==e?void 0:e.role)==="ADMIN"&&C()},[e]),(null==e?void 0:e.role)!=="ADMIN")?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-500",children:"Access denied. Admin role required."})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"sm:flex sm:items-center",children:[(0,t.jsxs)("div",{className:"sm:flex-auto",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Service Management"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:"Manage workshop services and pricing."})]}),(0,t.jsx)("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:(0,t.jsx)(i.Button,{onClick:()=>f(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:"Add Service"})})]}),u&&(0,t.jsx)(n.Alert,{variant:"error",onClose:()=>m(null),children:u}),h&&(0,t.jsx)(n.Alert,{variant:"success",onClose:()=>p(null),children:h}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(l.Input,{type:"text",placeholder:"Search by name, category, or description...",value:g,onChange:e=>v(e.target.value),onKeyPress:e=>"Enter"===e.key&&S()})}),(0,t.jsx)(i.Button,{onClick:S,variant:"secondary",children:"Search"}),(0,t.jsx)(i.Button,{onClick:()=>{v(""),C()},variant:"secondary",children:"Clear"})]}),y&&(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,t.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:b?"Edit Service":"Add New Service"}),(0,t.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,t.jsx)(l.Input,{label:"Service Name",type:"text",required:!0,value:N.name,onChange:e=>w({...N,name:e.target.value})}),(0,t.jsx)(l.Input,{label:"Category",type:"text",required:!0,placeholder:"e.g., Maintenance, Repair, Inspection",value:N.category,onChange:e=>w({...N,category:e.target.value})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-gray-900",value:N.description,onChange:e=>w({...N,description:e.target.value}),placeholder:"Describe what this service includes..."})]}),(0,t.jsx)(l.Input,{label:"Base Price ($)",type:"number",step:"0.01",required:!0,min:"0",value:N.basePrice,onChange:e=>w({...N,basePrice:parseFloat(e.target.value)||0})}),(0,t.jsx)(l.Input,{label:"Estimated Duration (minutes)",type:"number",required:!0,min:"1",value:N.estimatedDurationMinutes,onChange:e=>w({...N,estimatedDurationMinutes:parseInt(e.target.value)||30})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,t.jsx)(i.Button,{type:"button",onClick:()=>{f(!1),j(null),z(),m(null)},variant:"secondary",children:"Cancel"}),(0,t.jsx)(i.Button,{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:b?"Update":"Create"})]})]})]})})}),(0,t.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:o?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading services..."})]}):(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.description&&(0,t.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:e.description})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:e.category})}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",e.basePrice.toFixed(2)]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.estimatedDurationMinutes?(e=>{if(e<60)return"".concat(e," min");let t=Math.floor(e/60),s=e%60;return 0===s?"".concat(t,"h"):"".concat(t,"h ").concat(s,"min")})(e.estimatedDurationMinutes):"-"}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(e.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.active?"Active":"Inactive"})}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[(0,t.jsx)("button",{onClick:()=>{j(e),w({name:e.name,category:e.category,description:e.description||"",basePrice:e.basePrice,estimatedDurationMinutes:e.estimatedDurationMinutes||30}),f(!0)},className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>M(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]}),0===c.length&&(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No services found."})})]})})]})}}]);